<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Condicionais parte 1</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="box">

        <form class="my-form">
            <div class="form-field" id="form-field-name">
                <input type="text" name="name" id="name" placeholder="Your name">
                <span></span>
            </div>
    
            <div class="form-field" id="form-field-email">
                <input type="email" name="email" id="email" placeholder="Your e-mail">
                <span></span>
        </form>
        </div>
    </div>
    <button class="validate" onclick="validaForm()">VALIDAR</button>
    
    <script>
        var isEmail = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/

        var filedEmail = document.getElementById("email");
        var filedName = document.getElementById("name");

        function validaForm(){
            var nomeStr = filedName.value;
            var emailStr = filedEmail.value;
            console.log(nomeStr, emailStr);
            var wrapperName = document.getElementById("form-field-name");
            var wrapperEmail = document.getElementById("form-field-email");

            switch(nomeStr.length){
                case 1:
                    wrapperName.querySelector('span').innerText = "Número invalido de caracteres."
                    wrapperName.querySelector('span').classList.add('error')
                    break;
                case 2:
                    wrapperName.querySelector('span').innerText = "Número invalido de caracteres."
                    wrapperName.querySelector('span').classList.add('error')
                    break;
                    case 3:
                    wrapperName.querySelector('span').innerText = "Que nome pequeno! Cadastro validado!"
                    wrapperName.querySelector('span').classList.add('sucess')
                    break;
                    default:
                    wrapperName.querySelector('span').innerText = 'Nome cadastrado com sucesso.'
                    wrapperName.querySelector('span').classList.add('sucess')
            }

            /*if (nomeStr.length > 0 && nomeStr.length >= 3)
            {
                wrapperName.querySelector("span").classList.add("sucess");
                wrapperName.querySelector("span").innerText = "Validado com sucesso.";
                //console.log("SUCESS NAME!");
            }
            else
            {
                //console.log("ERROR NAME!");
                wrapperName.querySelector("span").classList.add("error");
                wrapperName.querySelector("span").innerText = "Sem sucesso na validação.";
            }*/

            if(isEmail.test(emailStr))
            {
                //console.log("SUCESS EMAIL!")
                wrapperEmail.querySelector("span").classList.add("sucess");
                wrapperEmail.querySelector("span").innerText = "Validado com sucesso.";
            }
            else
            {
                //console.log("ERROR EMAIL.")
                wrapperEmail.querySelector("span").classList.add("error");
                wrapperEmail.querySelector("span").innerText = "Sem sucesso na validação.";
            }
        }






    </script>
</body>
</html>